{{define "content"}}

<script>
    $(function() {
        $( ".date" ).datepicker({
            dateFormat: "yy-mm-dd",
            firstDay: 1
        });
    });
</script>

<h3>Date Range Report (From-To)</h3>


<form class="filter" action="/reports" method="get">
    <input type="textbox" class="date" name="BeginDate" value="{{.BeginDate}}"/>
    <input type="textbox" class="date" name="EndDate" value="{{.EndDate}}"/>
    <br/>

    <table>
        <tr>
            <td>
                <select multiple="multiple" size="30" name="fIDs">
                    {{range .AccountFromList}}
                    <option value="{{.ID}}" {{if .Selected}}selected{{end}}>[{{.Type}}] {{.Name}}</option>
                    {{end}}
                </select>
            </td>
            <td>
                <select multiple="multiple" size="30" name="tIDs">
                    {{range .AccountToList}}
                    <option value="{{.ID}}" {{if .Selected}}selected{{end}}>[{{.Type}}] {{.Name}}</option>
                    {{end}}
                </select>
            </td>
        </tr>
    </table>
    <br/>
    <input type="submit" value="Filter"/>
</form>

<div>
    <table id="transactions" class="list">
        {{range $key, $value := .Sections}}
        <tr>
            <td>{{$key}}</td>
            <td class="money"><b>{{money $value.Total}}</b></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
            {{range $k, $v := $value.SubSections}}
            <tr>
                <td></td>
                <td></td>
                <td>{{$v.Title}}</td>
                <td class="money"><b>{{money $v.Total}}</b></td>
                <td></td>
                <td></td>
            </tr>

                {{range $sk, $sv := $v.SubSections}}
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="money">{{money $sv.Total}}</td>
                    <td>{{$sv.Title}}</td>
                </tr>
                {{end}}

            {{end}}
        {{end}}

    </table>
</div>

{{end}}
